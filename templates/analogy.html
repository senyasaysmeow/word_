{% extends 'base.html' %}
{% load static %}

{% block title %}Word Analogy Calculator{% endblock %}

{% block content %}
<div class="fade-in">
    <header class="mb-6 sm:mb-8">
        <h1 class="text-2xl sm:text-3xl font-bold text-white tracking-wide mb-2">Word Analogy</h1>
        <p class="text-terminal-muted text-sm sm:text-base">
            Compute A - B + C to discover semantic relationships.
        </p>
    </header>
    
    <div class="mb-6 sm:mb-8">
        <p class="text-terminal-dim text-sm mb-4">
            Example: "king" - "man" + "woman" = "queen"
        </p>
    </div>
    
    <form 
        hx-post="{% url 'analogy_calculate' %}"
        hx-target="#results"
        hx-indicator="#loading"
        class="mb-6 sm:mb-8"
    >
        {% csrf_token %}
        
        <!-- Mobile: Stacked layout, Desktop: Inline layout -->
        <div class="flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-3 sm:gap-4 mb-6">
            <div class="flex-1 sm:min-w-[150px]">
                <label class="block text-xs mb-2 tracking-wide">
                    <span class="text-cyan-400 font-semibold">WORD A</span>
                </label>
                <input 
                    type="text" 
                    name="word_a" 
                    placeholder="king"
                    class="w-full bg-transparent border-b border-white/20 py-2 text-white focus:border-terminal-accent transition-colors"
                    autocomplete="off"
                    required
                >
            </div>
            
            <span class="hidden sm:block text-terminal-accent text-2xl mt-5">-</span>
            
            <div class="flex-1 sm:min-w-[150px]">
                <label class="block text-xs mb-2 tracking-wide">
                    <span class="sm:hidden text-terminal-accent">- </span><span class="text-pink-400 font-semibold">WORD B</span>
                </label>
                <input 
                    type="text" 
                    name="word_b" 
                    placeholder="man"
                    class="w-full bg-transparent border-b border-white/20 py-2 text-white focus:border-terminal-accent transition-colors"
                    autocomplete="off"
                    required
                >
            </div>
            
            <span class="hidden sm:block text-terminal-accent text-2xl mt-5">+</span>
            
            <div class="flex-1 sm:min-w-[150px]">
                <label class="block text-xs mb-2 tracking-wide">
                    <span class="sm:hidden text-terminal-accent">+ </span><span class="text-yellow-400 font-semibold">WORD C</span>
                </label>
                <input 
                    type="text" 
                    name="word_c" 
                    placeholder="woman"
                    class="w-full bg-transparent border-b border-white/20 py-2 text-white focus:border-terminal-accent transition-colors"
                    autocomplete="off"
                    required
                >
            </div>
            
            <span class="hidden sm:block text-terminal-accent text-2xl mt-5">=</span>
            
            <span class="hidden sm:block text-terminal-muted text-2xl mt-5">?</span>
        </div>
        
        <div class="flex items-center gap-4">
            <button 
                type="submit"
                class="px-6 py-2 bg-terminal-accent/10 text-terminal-accent border border-terminal-accent/30 hover:bg-terminal-accent/20 transition-colors text-sm tracking-wide"
            >
                CALCULATE
            </button>
            
            <div id="loading" class="htmx-indicator">
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </form>
    
    <div id="results">
        <!-- Results will be inserted here via HTMX -->
    </div>
    
    <div class="mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-white/5">
        <h3 class="text-terminal-muted text-xs tracking-wide mb-4">TRY THESE EXAMPLES</h3>
        <div class="grid gap-2 text-sm">
            <button 
                onclick="fillExample('paris', 'france', 'germany')"
                class="text-left text-terminal-dim hover:text-white transition-colors"
            >
                paris - france + germany = ?
            </button>
            <button 
                onclick="fillExample('doctor', 'hospital', 'school')"
                class="text-left text-terminal-dim hover:text-white transition-colors"
            >
                doctor - hospital + school = ?
            </button>
            <button 
                onclick="fillExample('walking', 'walk', 'run')"
                class="text-left text-terminal-dim hover:text-white transition-colors"
            >
                walking - walk + run = ?
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/analogy.js' %}"></script>
{% endblock %}
